# railsのメモ
railsに関するメモ、基本の書き方など

* マイグレーション：DBの構造を管理するやつ。

* コントローラー：ユーザーのリクエストを受け取り、モデルやビューヘその情報を渡す橋渡しの役割を持っている。
「http://~」といったリクエストがあると初めに読み込まれるのがコントローラの部分。そのあと、モデルを呼び出しデータを受け取り、ビューに反映する。

* ジェネレータコマンド：railsでは開発に必要なファイルを自動で生成してくれるジェネレータコマンドというのがある。
コントローラを作成する場合には、
`rails generate コントローラ名　アクション名`＊generateはgで省略可能とかく。他にもジェネレータコマンドはたくさんある。

* アクション：コントローラのメソッドのこと。

* ルーティング：URLにアクセスしたとき、どのコントローラのどのアクションに処理を振り分けるかを定義する仕組み。ルーティング情報はconfig/routes.rbに記述する決まり。  
`get ‘/任意のurl’, to: ‘対応させたいコントローラ名#アクション名’`  
`例　get '/users', to: 'users#index' `
* getメソッドでは、下記のように、to以下を省略可能。また、アクションですべき処理がない場合はコントローラのアクションも省略可能。
`get '/users/new'`

* HTTPリクエストメソッド（orリクエストメソッド）：ブラウザからの要求（リクエスト）がどんな処理を求めているかを区別するための取り決め。GET、POST ,PUT ,PATCH,DELETEなどがある。大抵、一般的なアクセスはGET、フォームからのデータ送信はPOST。

* コントローラでlocalhost:3000にアクセスした時、indexページを表示する処理。  
usersディレクトリ直下のindex.html.erbを表示する場合
```config/routes.rb
def index
  render template: 'users/index'
end
```
＊この時、呼び出すビューファイルが、app/views/コントローラ名/ビュー名.html.erbという形式の場合、renderメソッドは省略しても良い。

* render：コントローラに備わっているメソッドで、クライアントに返すレスポンスを定義する。
* plain:　はその後の値で指定された文字列をクライアントに返すための指定。
* インスタンス変数：クラスのオブジェクト（インスタンス）ごとに保持される変数のこと。railsではリクエストごとにコントローラクラスのインスタンスが生成され、コントローラのインスタンス変数をビューと共有して、コントローラからビューへデータを受け渡している。
* ERBの記述ルール  
`<% %>` rubyのコードとして実行.  
`<%= %>` rubyコードの実行結果の戻り値を出力
* layouts：ページ共通のデザインのテンプレート置き場。railsではビューを生成するタイミングで、まずapplication.html.erbを解釈する。
